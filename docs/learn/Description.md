# Meeda's Detailed Description

The entire data flow of Meeda is as follows:

1. Layer2 sends the blob data to the Operator node of Meeda. After the Operator node redundantly encodes and divides the data, it disperses and stores it to Storage Nodes;
  
2. The Operator node generates a commitment of the index information of the data at the same time, and then returns the commitment to Layer2 and uploads it to the verification contract on the chain for storage. Users can obtain the corresponding blob data based on the commitment;
  
3. The verification contract on the chain will periodically generate a random seed based on VRF-Sampling for data availability sampling;
  
4. Storage Nodes continuously generate data availability commitment certificates based on random seeds to respond to data availability sampling;
  
5. Operator aggregates the proofs received from Storage Nodes into a fixed-size proof, and submits the aggregated proof to the verification contract on the chain;
  
6. The verification contract on the chain assumes that the proof is correct, does not verify the proof, and only saves the proof. Users can access historical proof information from the chain;
  
7. The Light Node is responsible for supervising the correctness of the aggregated proof and verifying the aggregated proof offline. Once an error is discovered, it can challenge the verification contract, and the verification contract will verify the correctness of the aggregated proof. 

Meeda relies on the security of Ethereum, using on-chain verification, continuity proof, and redundancy mechanisms to provide high-security data availability guarantees.

## On-chain verification

Meeda uses on-chain verification to provide more secure data availability.

Meeda's on-chain verification consists of two main components, namely data availability sampling and fraud proof.

### Data availability sampling

If there is no data availability sampling, Storage Nodes will generate a data availability commitment certificate for each piece of data and then aggregate it. Although this can ensure data availability, it will greatly increase the overall calculation amount, thereby increasing the deployment cost of Storage Nodes.

Meeda's verification contract will regularly generate a random seed based on VRF-Sampling, and the seed will determine the sample to be sampled. Verifiable Random Function (VRF) is a random number generator (RNG) that is unpredictable, fair, random and tamper-proof. The results of VRF are equal-probability and cannot be predicted, so sampling is random. .

Meeda's data availability sampling is an adaptive sampling method. It challenges the full amount of blob data whose transaction status has not yet been finally confirmed on the settlement layer, and performs sampling challenges on other blob data. This can not only fully guarantee the availability of blob data whose transaction status has not been finalized, but also ensure the availability of other blob data with a high probability.

Storage Nodes generate a sample availability commitment certificate based on the seed and stored blob data, and then send the certificate to the Operator. The Operator will aggregate these proofs into a fixed-size proof and submit it to the verification contract. No matter how large the blob data volume is, the aggregation proof is of a fixed size and will not increase the cost of on-chain verification as the blob data volume increases.

This sampling method greatly reduces costs while providing high security data availability.

### Fraud Proof

If all the calculations involved in verification are performed on the chain, it will bring huge costs. Therefore, Meeda introduced Fraud Proof to reduce costs while providing high security.

Once the Light Node discovers that there is a problem with the aggregated proof submitted to the chain, it can challenge the verification contract and the contract will verify the proof. If the challenge is successful, the Light Node will receive the reward. If no Light Node challenges it, the verification contract will default to the aggregated proof being correct. This approach greatly reduces the cost of Meeda while providing high security.

## Continuity Proof

Storage Nodes will continuously generate a commitment certificate of data availability based on the random seeds regularly generated by the verification contract, and will be aggregated by the Operator and submitted to the verification contract on the chain. Users can view current and past commitment certificates at any time, and users are guaranteed to have access to blob data at any time.

## Redundancy mechanism

After Meeda receives the blob data of Layer2, it will redundantly encode it and then store it in scattered storage nodes.

Even if some Storage Nodes become evil, Meeda can recover complete blob data from other Storage Nodes. This mechanism provides higher security data availability guarantee.
